"use strict";var locat="blog-data-web",apolloApp=angular.module("blogApp",["myApp"]);angular.module("myApp",["ui.router","app.modules"]).config(["$stateProvider","$urlRouterProvider",function(t,l){l.otherwise("/"),t.state("index",{"abstract":!0,views:{header:{templateUrl:locat+"/html/header/header.html",controller:"headerCtrl"}}}).state("index.home",{url:"/",views:{content:{templateUrl:locat+"/html/home/home.html"}}}).state("main",{"abstract":!0,views:{header:{templateUrl:locat+"/html/main/main.html",controller:"mainCtrl"}}}).state("main.blog",{url:"/blog",views:{mainContent:{templateUrl:locat+"/html/main/blog/blog.html",controller:"blogCtrl"}}}).state("main.music",{url:"/music",views:{mainContent:{templateUrl:locat+"/html/main/music/music.html",controller:"musicCtrl"}}}).state("main.music.musicBox",{url:"/musicBox",views:{musicBoxContent:{templateUrl:locat+"/html/main/music/musicBox.html",controller:"musicBoxCtrl"}}})}]);
"use strict";angular.module("app.modules",["sharedPlugins.ui","app.restapi","utils","header","main","blog","music","musicBox"]);
"use strict";angular.module("app.restapi",[]);
"use strict";angular.module("sharedPlugins.ui",[]).directive("artIntroItem",[function(){return{restrict:"E",replace:!0,scope:{data:"="},template:'\n\t\t\t<div class="col-xs-12 col-sm-6 col-md-4">\n\t\t\t\t<div class="art-intro-wrapper">\n\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t<a>\n\t\t\t\t\t\t\t<div class="col-xs-12">\n\t\t\t\t\t\t\t\t<div class="art-img-wrapper">\n\t\t\t\t\t\t\t\t\t<img src="{{data.artImg}}" alt="art">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="art-content-wrapper">\n\t\t\t\t\t\t\t\t\t<h2>{{data.artTitle}}</h2>\n\t\t\t\t\t\t\t\t\t<p style="-webkit-box-orient:vertical">{{data.artIntro}}</p>\n\t\t\t\t\t\t\t\t\t<div class="row artist-wrapper">\n\t\t\t\t\t\t\t\t\t\t<div class="col-xs-12">\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<img src="{{data.artistImg}}" alt="artist">\n\t\t\t\t\t\t\t\t\t\t\t\t<span>{{data.artistName}}</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n    '}}]).directive("songListItem",[function(){return{restrict:"E",replace:!0,scope:{songListItem:"=",index:"="},template:'\n\t\t\t<li class="song-item">\n\t\t\t\t<span class="song-number">{{index}}</span>\n\t\t\t\t<a class="song-info">\n\t\t\t\t\t<h4>{{songListItem.songName}}</h4>\n\t\t\t\t\t<h5>{{songListItem.singerName}}</h5>\n\t\t\t\t</a>\n\t\t\t</li>\n    '}}]).directive("musicListItem",["music.utils",function(t){return{restrict:"E",replace:!0,scope:{musicListItem:"=",index:"=",audioInfo:"=",musicQueue:"=",audio:"=",currentTime:"=",processBarStyle:"="},template:'\n\t\t\t<li class="music-list-item col-sm-6 col-md-3">\n\t\t\t\t<div class="music-content">\n\t\t\t\t\t<div class="music-item-bg" ng-class="bgPosition(index)"></div>\n\t\t\t\t\t<i class="music-item-mask"></i>\n\t\t\t\t\t<i ui-sref="main.music.musicBox" class="music-play-icon" ng-click="playCurrentFirst(musicListItem); hideScrollBar()"></i>\n\t\t\t\t\t<i class="music-line"></i>\n\t\t\t\t\t<div class="music-item-header">\n\t\t\t\t\t\t<a ui-sref="main.music.musicBox" ng-click="playCurrentFirst(musicListItem); hideScrollBar()">\n\t\t\t\t\t\t\t<h4>巅峰榜</h4>\n\t\t\t\t\t\t\t<h3>流行指数</h3>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ul class="song-list">\n\n\t\t\t\t\t\t<song-list-item ui-sref="main.music.musicBox" ng-click="playSong(songListItem); addToBox(songListItem); hideScrollBar()" ng-repeat="songListItem in musicListItem track by $index" song-list-item="songListItem" index="$index + 1"></song-list-item>\n\t\t\t\t\t\t\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</li>\n    ',link:function(t,n,i){var s=function(){return t.audio.getAttribute("src")},e=function(n){t.audio.setAttribute("src",n.songSrc)},a=function(){t.audio.play()},o=function(){return t.musicQueue.findIndex(function(t){return!0===t.isPlay})},r=function(n){return t.musicQueue.findIndex(function(t){return t.songName===n.songName})},c=function(n,i){t.musicQueue[n].isPlay=i},u=function(){localStorage.music=JSON.stringify(t.musicQueue)},l=function(n){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.musicQueue.unshift({songSrc:n.songSrc,songName:n.songName,singerName:n.singerName,isPlay:i})},d=function(t,n){var i=r(t);-1!==i?(c(i,n),u()):(l(t),u())},m=function(){var t=o();-1!==t&&(c(t,!1),u())},g=function(t){e(t),a(),d(t,!0)},f=function(){t.processBarStyle={width:100*(t.audio.currentTime/t.audio.duration).toFixed(3)+"%"}};t.bgPosition=function(t){return"bg-position"+t},t.playSong=function(n){s()!==n.songSrc?(m(),g(n)):!1===t.audio.paused?f():!0===t.audio.paused&&(a(),d(n,!0))},t.playCurrentFirst=function(n){t.playSong(n[0])},t.addToBox=function(n){var i=o();i!==-1&&n.songName!==t.musicQueue[i].songName&&c(i,!1);var s=t.musicQueue.find(function(t){return t.songName===n.songName});void 0===s&&(t.musicQueue.unshift({songSrc:n.songSrc,songName:n.songName,singerName:n.singerName,isPlay:!0}),u())},t.hideScrollBar=function(){document.body.style.overflowY="hidden"}}}}]).directive("musicBoxSong",[function(){return{restrict:"A",replace:!0,scope:{song:"=",index:"=",audioInfo:"=",musicQueue:"=",audio:"=",currentTime:"="},template:'\n\t\t\t\t<tr ng-class="{\'current-song\': song.isPlay}" ng-dblclick="playThisSong(song)">\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<span class="inner-index">{{index}}</span>\n\t\t\t\t\t\t{{song.songName}}\n\t\t\t\t\t\t<div class="inner-tool-wrapper">\n\t\t\t\t\t\t\t<a href="javascript:;" title="播放"><i class="inner-tool-btn inner-play"></i></a>\n\t\t\t\t\t\t\t<a href="javascript:;" title="添加"><i class="inner-tool-btn inner-add"></i></a>\n\t\t\t\t\t\t\t<a href="javascript:;" title="下载"><i class="inner-tool-btn inner-download"></i></a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>{{song.singerName}}</td>\n\t\t\t\t\t<td><span class="inner-time">{{song.duration}}</span><a href="javascript:;" title="删除"><i class="inner-delete"></i></a></td>\n\t\t\t\t</tr>\t\n    ',link:function(t,n,i){var s=function(n){t.audio.setAttribute("src",n.songSrc)},e=function(){t.audio.play()},a=function(){return t.musicQueue.findIndex(function(t){return!0===t.isPlay})},o=function(n){return t.musicQueue.findIndex(function(t){return t.songName===n.songName})},r=function(n,i){t.musicQueue[n].isPlay=i},c=function(){localStorage.music=JSON.stringify(t.musicQueue)},u=function(n){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.musicQueue.unshift({songSrc:n.songSrc,songName:n.songName,singerName:n.singerName,isPlay:i})},l=function(t,n){var i=o(t);-1!==i?(r(i,n),c()):(u(t),c())},d=function(){var t=a();-1!==t&&(r(t,!1),c())},m=function(t){s(t),e(),l(t,!0)};t.playThisSong=function(t){d(),m(t)},t.$watch("audio.ended",function(){!0===t.audio.ended&&d()})}}}]);
"use strict";angular.module("utils",[]).constant("musicInitList",[[{songSrc:"/枫.mp3",songName:"枫",singerName:"李晨阳"},{songSrc:"/一路向北.mp3",songName:"一路向北",singerName:"李晨阳"},{songSrc:"/最长的电影.mp3",songName:"最长的电影",singerName:"李晨阳"},{songSrc:"/发如雪.mp3",songName:"发如雪",singerName:"李晨阳"}],[{songSrc:"/黑色毛衣.mp3",songName:"黑色毛衣",singerName:"李晨阳"},{songSrc:"/心雨.mp3",songName:"心雨",singerName:"李晨阳"},{songSrc:"/烟花易冷.mp3",songName:"烟花易冷",singerName:"李晨阳"},{songSrc:"/说好的幸福呢.mp3",songName:"说好的幸福呢",singerName:"李晨阳"}],[{songSrc:"/夜曲.mp3",songName:"夜曲",singerName:"李晨阳"},{songSrc:"/我不配.mp3",songName:"我不配",singerName:"李晨阳"},{songSrc:"/千里之外.mp3",songName:"千里之外",singerName:"李晨阳"},{songSrc:"/七里香.mp3",songName:"七里香",singerName:"李晨阳"}],[{songSrc:"/借口.mp3",songName:"借口",singerName:"李晨阳"},{songSrc:"/花海.mp3",songName:"花海",singerName:"李晨阳"},{songSrc:"/兰亭序.mp3",songName:"兰亭序",singerName:"李晨阳"},{songSrc:"/晴天.mp3",songName:"晴天",singerName:"李晨阳"}]]).factory("music.utils",[function(){return{transformTime:function(n){var e=void 0,r=void 0;return e=Math.floor(n/60),e=1==e.toString().length?"0"+e:e,r=Math.floor(n-60*e),r=1==r.toString().length?"0"+r:r,e+":"+r},getPlayingSong:function(n){return n.find(function(n){return!0===n.isPlay})},getSongName:function(n){var e=this.getPlayingSong(n);return void 0===e?"歌曲":e.songName},getSingerName:function(n){var e=this.getPlayingSong(n);return void 0===e?"歌手":e.singerName},getCurrentTime:function(n){return this.transformTime(n.currentTime)},getTotalTime:function(n){return this.transformTime(n.duration)},getPrevIndex:function(n){return n.findIndex(function(n){return!0===n.isPlay})},updateStorage:function(n){localStorage.music=JSON.stringify(n)}}}]);
"use strict";angular.module("header",[]).controller("headerCtrl",["$scope",function(e){}]);
"use strict";angular.module("main",[]).controller("mainCtrl",["$scope",function(n){}]);
"use strict";angular.module("blog",[]).controller("blogCtrl",["$scope",function(e){e.artInfo=[{router:"",artImg:"/blog/art-1.jpg",artTitle:"The Starry Night",artIntro:"Tuesday Night, has been translated into The Starry Night (The Starry Night) after (Dutch: De sterrennacht) is a Dutch impressionist painter Vincent van gogh in France in 1889, in a mental hospital st remy creation of a famous painting, is one of The representative work of van gogh, courtesy of The museum of modern art in New York. There is a general saying that because this is van gogh's work in the period of mental illness, it is widely believed to be a wonderful scene van gogh imagined.",artistImg:"/blog/artist-1.png",artistName:"Vincent Willem van Gogh"},{router:"",artImg:"https://nodecasts.io/wp-content/themes/sparkling-child/featured_courses/learn_es6.jpg",artTitle:"Introduction to Arts",artIntro:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odio tenetur, maxime nulla doloribus explicabo quidem facere reiciendis aliquid, quod sit odit. Quod, minus ipsum consectetur qui saepe doloremque hic sequi.",artistImg:"https://nodecasts.io/wp-content/themes/sparkling-child/featured_courses/Gew7gVjsRNOrs9M5xRri.jpeg",artistName:"Davincy Namea"},{router:"",artImg:"https://nodecasts.io/wp-content/themes/sparkling-child/featured_courses/learn_es6.jpg",artTitle:"Introduction to Arts",artIntro:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odio tenetur, maxime nulla doloribus explicabo quidem facere reiciendis aliquid, quod sit odit. Quod, minus ipsum consectetur qui saepe doloremque hic sequi.",artistImg:"https://nodecasts.io/wp-content/themes/sparkling-child/featured_courses/Gew7gVjsRNOrs9M5xRri.jpeg",artistName:"Davincy Namea"},{router:"",artImg:"/blog/art-4.jpg",artTitle:"Le Bassinaux Nympheas",artIntro:"Monet is the pioneer of creating a dynamic artistic conception. He serene, classic series of water lily paintings, with their dreamy atmosphere and life.",artistImg:"/blog/artist-4.png",artistName:"Claude Monet"},{router:"",artImg:"/blog/art-5.jpg",artTitle:"In the red woman sleeping in an easy chair",artIntro:'"The woman sleeping in a red arm-chair" is a silhouette of a woman, and is placed in front of a red background.The woman\'s limb did not break down more, slightly exaggerated.The colour is also extremely simple.',artistImg:"/blog/artist-5.png",artistName:"Pablo Picasso"},{router:"",artImg:"https://nodecasts.io/wp-content/themes/sparkling-child/featured_courses/learn_es6.jpg",artTitle:"Introduction to Arts",artIntro:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odio tenetur, maxime nulla doloribus explicabo quidem facere reiciendis aliquid, quod sit odit. Quod, minus ipsum consectetur qui saepe doloremque hic sequi.",artistImg:"https://nodecasts.io/wp-content/themes/sparkling-child/featured_courses/Gew7gVjsRNOrs9M5xRri.jpeg",artistName:"Davincy Namea"}]}]);
"use strict";angular.module("music",[]).controller("musicCtrl",["$scope","musicInitList",function(u,c){u.audio=document.querySelector("audio"),u.musicAudio={songSrcNow:"",isPlay:!1};var i=function(){return localStorage.music?JSON.parse(localStorage.music):[]};u.musicQueue=i(),u.musicList=c}]);
"use strict";angular.module("musicBox",[]).controller("musicBoxCtrl",["$scope","music.utils",function(e,u){var i=function(i,o){e.songName=u.getSongName(i),e.singerName=u.getSingerName(i),isNaN(o.duration)||(e.totalTime=u.getTotalTime(o))},o=function(u,i){e.musicQueue[u].isPlay=i},t=function(e){var i=u.getPrevIndex(e);-1!==i&&(o(i,!1),u.updateStorage(e))},n=function(i){e.currentTime=u.getCurrentTime(i)},a=function(i){e.totalTime=u.getTotalTime(i)},c=function(u){e.processBarStyle={width:100*(u.currentTime/u.duration).toFixed(3)+"%"}};n(e.audio),a(e.audio),i(e.musicQueue,e.audio),e.$watchGroup(["audio.currentSrc","audio.duration"],function(){void 0,i(e.musicQueue,e.audio)}),setInterval(function(){e.$apply(function(){e.audio.ended&&t(e.musicQueue),n(e.audio),c(e.audio)}),void 0},1e3)}]);