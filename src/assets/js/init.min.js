
$(document).ready(function () {

	// preloading
	$('.preloader').fadeOut('slow');

	// banner slider background
	$('.home-header-bg').vegas({
		slides: [
			{ src: '/home/banner-slider-1.jpg' },
			{ src: '/home/banner-slider-2.jpg' },
			{ src: '/home/banner-slider-3.jpg' },
		]
	});

	// nav bar
	$(window).scroll(function () {
		var scroll = $(window).scrollTop();

		if (scroll >= 569) {
			$(".navbar").addClass("navbar-fixed-top dark-bar");
		} else {
			$(".navbar").removeClass("navbar-fixed-top dark-bar");
		}
	});

	// scroll bg change 

	window.onscroll = () => {
		var headerBG = document.querySelector('.header-bg');
		headerBG.style.bottom = document.body.scrollTop * .5 + 'px'
	}

	// Scroll Animation
	wow = new WOW(
		{
			boxClass: 'wow',      // default
			animateClass: 'animated', // default
			offset: 0,          // default
			mobile: true,       // default
			live: true        // default
		}
	)
	wow.init();

	// close menu
	const closeBtn = document.getElementsByClassName('fa-close')[0];
	const menu = document.getElementById('menu-item');

	closeBtn.onclick = e => {
		menu.classList.add('hide-menu')
		menu.classList.remove('show-menu');
		e.preventDefault();
	}

	// click body to hide menu
	const menuBtn = document.getElementsByClassName('menu')[0];

	document.body.onclick = e => {
		if (!menuBtn.contains(e.target)) {
			menu.classList.add('hide-menu');
			menu.classList.remove('show-menu');
		}
	}

	// Smooth Scroll

	$('a[href*="#"]:not([href="#"])').click(function () {
		if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '')
			|| location.hostname == this.hostname) {

			var target = $(this.hash);
			target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
			if (target.length) {
				$('html,body').animate({
					scrollTop: (target.offset().top - 452)
				}, 1000);
				return false;
			}
		}
	});


	// Popup

	$('.popup-youtube, .popup-vimeo, .popup-gmaps').magnificPopup({
		disableOn: 700,
		type: 'iframe',
		mainClass: 'mfp-fade',
		removalDelay: 160,
		preloader: false,
		fixedContentPos: false
	});



	// Slider
	$('.owl-carousel').owlCarousel({
		loop: true,
		margin: 10,
		nav: true,
		responsive: {
			0: {
				items: 1
			},
			600: {
				items: 3
			},
			1000: {
				items: 5
			}
		}
	})

	var h = $('.expert').height();
	$('.expert .col-sm-6 div').height(function (index, height) {
		return (h);
	});

	// Menu bar
	$(".menu").click(function () {
		$('.menu span').toggleClass('ion-navicon ion-android-close');
		$('#menu-item').toggleClass("show-menu hide-menu");
	});

	$("#menu-item a").click(function () {
		$('.menu span').toggleClass('ion-navicon ion-android-close');
		$('#menu-item').toggleClass("show-menu hide-menu");
	});


});